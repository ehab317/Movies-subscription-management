{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\Movies_subscription_management\\\\client\\\\src\\\\pages\\\\movies\\\\AddMovie.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport axiosRequest from \"../../config/axiosConfig\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddMovie = () => {\n  _s();\n  const [movie, setMovie] = useState({});\n  const [message, setMessage] = useState('');\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const subUrl = process.env.REACT_APP_SUBWS;\n  const handleChange = e => {\n    const genres = e.target.value.split(',').map(genre => genre.trim());\n    const capitalizedGenres = genres.map(genre => genre.charAt(0).toUpperCase() + genre.slice(1));\n    setMovie({\n      ...movie,\n      Genres: capitalizedGenres\n    });\n  };\n  const handleClick = async e => {\n    e.preventDefault();\n    try {\n      const {\n        data\n      } = await axiosRequest.post(`${subUrl}/movies/create`, movie);\n      console.log(data);\n    } catch (error) {\n      if (error.response.status === 401) {\n        setMessage(`${error.response.data.message}, you will be logged out in 3 seconds`);\n        setTimeout(() => {\n          dispatch({\n            type: 'RESET_USERS'\n          });\n          dispatch({\n            type: 'LOGOUT'\n          });\n          localStorage.removeItem('token');\n          navigate('/');\n        }, 3000);\n      } else {\n        setMessage(error.response.data.message);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Add Movie\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"Name\",\n        onChange: e => setMovie({\n          ...movie,\n          Name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 110\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Genres: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"Genres\",\n        onChange: e => handleChange(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 86\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Image url: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"Image\",\n        onChange: e => setMovie({\n          ...movie,\n          Image: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 112\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Premiered: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"Premiered\",\n        onChange: e => setMovie({\n          ...movie,\n          Premiered: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 120\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        marginRight: '10px'\n      },\n      onClick: e => handleClick(e),\n      children: \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/home/movies\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginRight: '10px'\n        },\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true);\n};\n_s(AddMovie, \"4OKpAN7k3xyvXperMb0tC+28Occ=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n_c = AddMovie;\nexport default AddMovie;\nvar _c;\n$RefreshReg$(_c, \"AddMovie\");","map":{"version":3,"names":["useState","axiosRequest","useDispatch","useNavigate","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","AddMovie","_s","movie","setMovie","message","setMessage","dispatch","navigate","subUrl","process","env","REACT_APP_SUBWS","handleChange","e","genres","target","value","split","map","genre","trim","capitalizedGenres","charAt","toUpperCase","slice","Genres","handleClick","preventDefault","data","post","console","log","error","response","status","setTimeout","type","localStorage","removeItem","children","fileName","_jsxFileName","lineNumber","columnNumber","name","onChange","Name","Image","Premiered","style","marginRight","onClick","to","_c","$RefreshReg$"],"sources":["C:/projects/Movies_subscription_management/client/src/pages/movies/AddMovie.js"],"sourcesContent":["import { useState } from \"react\"\r\nimport axiosRequest from \"../../config/axiosConfig\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { useNavigate, Link } from \"react-router-dom\"\r\n\r\nconst AddMovie = () => {\r\n\r\n    const [movie, setMovie] = useState({})\r\n    const [message, setMessage] = useState('')\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const subUrl = process.env.REACT_APP_SUBWS\r\n\r\n    const handleChange = (e) => {\r\n        const genres = e.target.value.split(',').map(genre => genre.trim())\r\n        const capitalizedGenres = genres.map(genre => genre.charAt(0).toUpperCase() + genre.slice(1))\r\n        setMovie({...movie, Genres: capitalizedGenres})\r\n    }\r\n\r\n    const handleClick = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            const {data} = await axiosRequest.post(`${subUrl}/movies/create`, movie)\r\n            console.log(data)\r\n        } catch (error) {\r\n            if (error.response.status === 401) {\r\n                setMessage(`${error.response.data.message}, you will be logged out in 3 seconds`)\r\n                setTimeout(() => {\r\n                    dispatch({type: 'RESET_USERS'})\r\n                    dispatch({type: 'LOGOUT'})\r\n                    localStorage.removeItem('token')\r\n                    navigate('/')\r\n                }, 3000)\r\n            } else {\r\n                setMessage(error.response.data.message)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h2>Add Movie</h2>\r\n            <form>\r\n                <label>Name: </label>\r\n                <input type=\"text\" name=\"Name\" onChange={(e) => setMovie({...movie, Name: e.target.value})}/><br/>\r\n                <label>Genres: </label>\r\n                <input type=\"text\" name=\"Genres\" onChange={ (e) => handleChange(e)}/><br/>\r\n                <label>Image url: </label>\r\n                <input type=\"text\" name=\"Image\" onChange={(e) => setMovie({...movie, Image: e.target.value})}/><br/>\r\n                <label>Premiered: </label>\r\n                <input type=\"date\" name=\"Premiered\" onChange={(e) => setMovie({...movie, Premiered: e.target.value})}/><br/>\r\n            </form>\r\n            <br/>\r\n            <button style={{marginRight: '10px'}} onClick={(e) => handleClick(e)}>Save</button>\r\n            <Link to='/home/movies'><button style={{marginRight: '10px'}}>Cancel</button></Link>\r\n            {message && <p>{message}</p>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddMovie"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}